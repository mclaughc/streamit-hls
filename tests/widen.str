void->int pipeline widen {
    add counter();
    //add InputReader<int>();
    //add stuff();
    //add sink();
    add consumer();
    //add OutputWriter<int>();
}

void->int filter counter {
    int last = 1;
    work push 2 {
        push(last);
        push(last + 1);
        last = last + 2;
    }
}

int->void filter consumer {
    work pop 2 {
        pop();
        pop();
    }
}

int->int splitjoin stuff {
    //split duplicate;
    split roundrobin;
    add Identity<int>();
    add Identity<int>();
    join roundrobin;
}

int->void filter sink {
    work pop 2 {
        pop();
        pop();
    }
}

